CONFIGURE_FILES = Makefile config.status config.cache config.h config.log autom4te.cache
CC = @CC@
CXX = @CXX@
DEFS = @DEFS@
CFLAGS = -g -I. -I../inc $(DEFS) @CFLAGS@ 
LD_FLAGS = @LD_OPT@
LN = /usr/bin/ln
PRODUCTS = leak32 leak64 plibtest astest small gtest-all
INSTALL = @INSTALL@
TEMPFILES = *~ .*~ .\#* \#*\# *.o
GTEST_DIR = ./gtest

all: $(PRODUCTS)

leak32: leak.c
	${CC} $(CFLAGS) -m32 -g -o $@ leak.c

leak64: leak.c
	${CC} $(CFLAGS) -m64 -g -o $@ leak.c

plibtest: plibtest.c
	${CC} $(CFLAGS) -m64 -lproc -o $@ plibtest.c

astest: astest.c
	${CC} $(CFLAGS) -m64 -o $@ astest.c

small: small.c
	${CC} $(CFLAGS) -m64 -o $@ small.c

clean:
	-rm -f $(PRODUCTS) $(TEMPFILES) 
	-cd gtest ; make clean

distclean: 
	-rm -fr $(CONFIGURE_FILES) $(TEMPFILES) 
	-cd gtest ; make distclean

gtest-all: all
	cd gtest ; make

test:
	echo "not implemented"

